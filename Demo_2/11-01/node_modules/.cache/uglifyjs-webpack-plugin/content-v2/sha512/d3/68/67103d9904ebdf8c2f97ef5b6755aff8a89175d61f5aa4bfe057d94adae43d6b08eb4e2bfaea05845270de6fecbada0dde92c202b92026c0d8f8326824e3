{"code":"webpackHotUpdate(0,{204:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(1),i=(n=o)&&n.__esModule?n:{default:n},s=a(30),u=a(55);var c=s.Form.Item,d=(s.Menu.SubMenu,s.Tabs.TabPane),f=(s.Menu.ItemGroup,function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={current:\"top\",modalVisible:!1,action:\"login\",hasLogined:!1,userNickName:\"\",userid:0},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),l(t,[{key:\"setModalVisible\",value:function(e){this.setState({modalVisible:e})}},{key:\"handleClick\",value:function(e){(e.key=\"register\")?(this.setState({current:\"register\"}),this.setModalVisible(!0)):this.setState({current:e.key})}},{key:\"handleSubmit\",value:function(e){var t=this;e.preventDefault();var a=this.props.form.getFieldsValue();console.log(a),fetch(\"http://newsapi.gugujiankong.com/Handler.ashx?action=\"+this.state.action+\"&username=\"+a.userName+\"&password=\"+a.password+\"&r_userName=\"+a.r_userName+\"&r_password=\"+a.r_password+\"&r_confirmPassword=\"+a.r_confirmPassword,{method:\"GET\"}).then(function(e){return e.json()}).then(function(e){t.setState({userNickName:e.NickUserName,userid:e.UserId})}),\"login\"==this.state.action&&this.setState({hasLogined:!0}),s.message.success(\"请求成功！\"),this.setModalVisible(!1)}},{key:\"login\",value:function(){this.setModalVisible(!0)}},{key:\"callback\",value:function(e){1==e?this.setState({action:\"login\"}):2==e&&this.setState({action:\"register\"})}},{key:\"render\",value:function(){var e=this,t=this.props.form.getFieldProps,a=this.state.hasLogined?i.default.createElement(u.Link,{to:\"/usercenter\"},i.default.createElement(s.Icon,{type:\"inbox\"})):i.default.createElement(s.Icon,{type:\"setting\",onClick:this.login.bind(this)});return i.default.createElement(\"div\",{id:\"mobileheader\"},i.default.createElement(\"header\",null,i.default.createElement(\"img\",{src:\"./src/images/logo.png\",alt:\"logo\"}),i.default.createElement(\"span\",null,\"ReactNews\"),a),i.default.createElement(s.Modal,{title:\"用户中心\",wrapClassName:\"vertical-center-modal\",visible:this.state.modalVisible,onCancel:function(){return e.setModalVisible(!1)},onOk:function(){return e.setModalVisible(!1)},okText:\"关闭\"},i.default.createElement(s.Tabs,{type:\"card\",onChange:this.callback.bind(this)},i.default.createElement(d,{tab:\"登录\",key:\"1\"},i.default.createElement(s.Form,{horizontal:!0,onSubmit:this.handleSubmit.bind(this)},i.default.createElement(c,{label:\"账户\"},i.default.createElement(s.Input,r({placeholder:\"请输入您的账号\"},t(\"userName\")))),i.default.createElement(c,{label:\"密码\"},i.default.createElement(s.Input,r({type:\"password\",placeholder:\"请输入您的密码\"},t(\"password\")))),i.default.createElement(s.Button,{type:\"primary\",htmlType:\"submit\"},\"登录\"))),i.default.createElement(d,{tab:\"注册\",key:\"2\"},i.default.createElement(s.Form,{horizontal:!0,onSubmit:this.handleSubmit.bind(this)},i.default.createElement(c,{label:\"账户\"},i.default.createElement(s.Input,r({placeholder:\"请输入您的账号\"},t(\"r_userName\")))),i.default.createElement(c,{label:\"密码\"},i.default.createElement(s.Input,r({type:\"password\",placeholder:\"请输入您的密码\"},t(\"r_password\")))),i.default.createElement(c,{label:\"确认密码\"},i.default.createElement(s.Input,r({type:\"password\",placeholder:\"请再次输入您的密码\"},t(\"r_confirmPassword\")))),i.default.createElement(s.Button,{type:\"primary\",htmlType:\"submit\"},\"注册\"))))))}}]),t}());t.default=f=s.Form.create({})(f)}});","extractedComments":[]}